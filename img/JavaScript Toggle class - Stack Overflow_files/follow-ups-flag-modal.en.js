(()=>{"use strict";var e,a={57689:(e,a,t)=>{var o=t(22024);t(82170);var r=t(67578),l=t(78049),n=r.vUu("<span> </span>");function s(e,a){const t=Math.round(2*a.maxCount/5),o=Math.round(3*a.maxCount/5),l=Math.round(4*a.maxCount/5);let s=r.unG((()=>0===a.currentLength?{message:__tr(["Enter at least $minCount$ characters","Enter at least $minCount$ characters"], {minCount: a.minCount}, "en", ["minCount"]),classes:"fs-caption fc-black-400"}:a.currentLength<a.minCount?{message:__tr(["$amountLeftToMin$ more to go...","$amountLeftToMin$ more to go..."], {amountLeftToMin: a.minCount - a.currentLength}, "en", ["amountLeftToMin"]),classes:"fs-caption fc-black-400"}:a.currentLength>=a.minCount&&a.currentLength<=t?{message:__tr(["$amountLeftToMax$ characters left","$amountLeftToMax$ characters left"], {amountLeftToMax: a.maxCount - a.currentLength}, "en", ["amountLeftToMax"]),classes:"fs-caption fc-black-400"}:a.currentLength>t&&a.currentLength<=o?{message:__tr(["$amountLeftToMax$ characters left","$amountLeftToMax$ characters left"], {amountLeftToMax: a.maxCount - a.currentLength}, "en", ["amountLeftToMax"]),classes:"fs-caption fc-orange-600"}:a.currentLength>o&&a.currentLength<=l?{message:__tr(["$amountLeftToMax$ characters left","$amountLeftToMax$ characters left"], {amountLeftToMax: a.maxCount - a.currentLength}, "en", ["amountLeftToMax"]),classes:"fs-caption fc-orange-500"}:a.currentLength>l&&a.currentLength<=a.maxCount?{message:__tr(["$amountLeftToMax$ characters left","$amountLeftToMax$ characters left"], {amountLeftToMax: a.maxCount - a.currentLength}, "en", ["amountLeftToMax"]),classes:"fs-caption fc-orange-400"}:{message:__tr(["Too long by $amountOver$ characters","Too long by $amountOver$ characters"], {amountOver: a.currentLength - a.maxCount}, "en", ["amountOver"]),classes:"fs-caption fc-red-400"}));var c=n(),d=r.jfp(c,!0);r.cLc(c),r.vNg((()=>{r.ysU(c,1,r.$z$(r.JtY(s).classes)),r.jax(d,r.JtY(s).message)})),r.BCw(e,c)}const c=window.jQuery;StackExchange=window.StackExchange=window.StackExchange||{},StackOverflow=window.StackOverflow=window.StackOverflow||{};let d="";var i=r.vUu('<span class="s-input-message fw-bold fc-red-400">This is the flag you currently have raised</span>'),p=r.vUu('<div><input class="s-radio" type="radio" name="flag-reason" id="CommentProbableSpam"/> <label class="s-label" for="CommentProbableSpam"> <p class="s-description"><!></p></label> <!></div>'),h=r.vUu('<div><input class="s-radio" type="radio" name="flag-reason" id="CommentRudeOrOffensive"/> <label class="s-label" for="CommentRudeOrOffensive"> <p class="s-description"><!></p></label> <!></div>'),u=r.vUu(' <p class="s-description"><!></p>',1),f=r.vUu(' <p class="s-description"><!></p>',1),g=r.vUu('<div><input class="s-radio" type="radio" name="flag-reason" id="CommentUnwelcoming"/> <label class="s-label" for="CommentUnwelcoming"> <p class="s-description"><!></p></label> <!></div>'),m=r.vUu('<div><input class="s-radio" type="radio" name="flag-reason" id="CommentRudeOrOffensive"/> <label class="s-label" for="CommentRudeOrOffensive"><!></label> <!></div> <!>',1),v=r.vUu('<fieldset class="s-check-group mt8"><!> <!> <div><input class="s-radio" type="radio" name="flag-reason" id="CommentNoLongerNeeded"/> <div class="d-flex fd-column g12 fl-grow1"><label class="s-label" for="CommentNoLongerNeeded"> <p class="s-description"></p></label> <div><!> <!></div> <!></div></div> <div><input class="s-radio" type="radio" name="flag-reason" id="CommentOther"/> <div class="d-flex fd-column g12 fl-grow1"><label class="s-label" for="CommentOther"> <p class="s-description"></p></label> <div><!> <!></div> <!></div></div></fieldset>'),w=r.vUu('<span class="fc-black-400"> </span>'),_=r.vUu('<div class="d-flex jc-space-between g8 ai-center w100"><div><!> <!></div> <!></div>');const y=function(e){const a=function(e){const a=function(e){const a=e.replace(/\.(t|j)sx?/,"");return $(`script[type="application/json"][data-role="module-args"][data-module-name="${a}"]`)}(e);return a.toArray().map((e=>JSON.parse($(e).text())))}(e);return function(e,a){if(0===e.length)throw`Couldn't find args for module "${a}". Did you forget to call @JavaScriptHelper.Args?`}(a,e),function(e,a){if(e.length>1)throw`Found too many instances of args for module "${a}". Did you call @JavaScriptHelper.Args too many times?`}(a,e),a[0]}("islands/follow-ups-flag-modal/index.mod.ts"),b=document.getElementById(y.ContainerElementId);(0,o.Or)((function(e,a){r.VCO(a,!0);const t=[],n=(e,a=r.lQ1)=>{var t=r.Imx(),o=r.esp(t),l=e=>{var a=i();r.BCw(e,a)};r.if(o,(e=>{r.JtY(j)&&r.JtY(x)===a()&&e(l)})),r.BCw(e,t)};let y=r.wk1(!1),b=r.wk1(""),C=r.wk1(""),k=r.wk1(0),L=r.wk1(!1),x=r.wk1(""),J=r.wk1(""),Y=r.wk1(""),j=r.wk1(!1);const $=e=>{const{detail:a}=e;r.hZp(b,a.postId,!0),r.hZp(C,a.followUpId,!0),a.retracting&&(r.hZp(j,!0),r.JtY(C)&&async function(e){try{const a=await fetch(`/flags/follow-ups/${e}`);if(!a.ok)throw new Error("Network response was not ok");const t=await a.json();t&&r.hZp(x,t.flagTypeId.toString(),!0)}catch{r.hZp(y,!1),StackExchange.helpers.showToast("Error retrieving flag details",{type:"danger",dismissable:!0})}}(r.JtY(C))),r.hZp(k,a.commentFlagsRemainingToday,!0),r.hZp(L,a.currentUserIsMod,!0),r.hZp(y,!0)},T=()=>{r.hZp(b,null),r.hZp(C,null),r.hZp(k,0),r.hZp(L,!1),r.hZp(x,""),r.hZp(J,""),r.hZp(Y,""),r.hZp(j,!1)};async function O(){const e=await(async({fkey:e,otherText:a,followUpId:t,flagReasonSelected:o})=>{if(!t||!o||!e)throw new Error;if("19"===o&&""===(0,c.trim)(a))return StackExchange.helpers.showToast("Flag reason is required.",{type:"danger"}),{success:!1};const r=new FormData;r.append("fkey",e),r.append("otherText",a);const l=a===d;d=a,r.append("overrideWarning",l.toString());try{const e=await fetch(`/flags/comments/${t}/add/${o}`,{method:"POST",body:r});if(!e.ok){const a=await e.text();throw new Error(a)}const a=await e.json();if(!a.Success){if(1===a.Outcome)return StackExchange.helpers.showToast(a.Message,{type:"warning"}),{success:!1};throw new Error(a.Message)}return StackExchange.helpers.showToast(__tr(["Thanks for flagging! We take your reports seriously."], undefined, "en", []),{type:"success",transientTimeout:3e3}),{success:!0,resultChangedState:a.ResultChangedState}}catch(e){let a=__tr(["An error occurred during flagging."], undefined, "en", []);return e instanceof Error&&e.message&&(a=e.message),StackExchange.helpers.showToast(a,{type:"danger",useRawHtml:!0}),{success:!1}}})({flagReasonSelected:r.JtY(x),otherText:r.JtY(Y),followUpId:r.JtY(C),fkey:a.fkey});e.success&&window.dispatchEvent(new CustomEvent("flagSubmitted",{detail:{postId:r.JtY(b),followUpId:r.JtY(C),followUpDeleted:e.resultChangedState}})),r.hZp(y,!1),T()}async function S(){const e=await(async({fkey:e,followUpId:a,flagReasonSelected:t})=>{if(!a||!t||!e)throw new Error;const o=new FormData;o.append("fkey",e);try{const e=await fetch(`/flags/comments/${a}/retract/${t}`,{method:"POST",body:o});if(!e.ok){const a=await e.text();throw new Error(a)}const r=await e.json();if(!r.Success)throw new Error(r.Message);return StackExchange.helpers.showToast(__tr(["Your flag has been retracted."], undefined, "en", []),{type:"success",transientTimeout:3e3}),!0}catch(e){let a=__tr(["An error occurred while trying to retract your flag."], undefined, "en", []);return e instanceof Error&&e.message&&(a=e.message),StackExchange.helpers.showToast(a,{type:"danger",useRawHtml:!0}),!1}})({flagReasonSelected:r.JtY(x),followUpId:r.JtY(C),fkey:a.fkey});e&&window.dispatchEvent(new CustomEvent("flagRetract",{detail:{postId:r.JtY(b),followUpId:r.JtY(C)}})),r.hZp(y,!1),T()}(0,o.Rc)((()=>(window.addEventListener("flagModalOpen",$),()=>{window.removeEventListener("flagModalOpen",$)}))),r.MWq((()=>{const e=document.getElementById("no-longer-needed-text-input");"39"===r.JtY(x)?e.focus():r.hZp(J,"");const a=document.getElementById("other-text-input");"19"===r.JtY(x)?a.focus():r.hZp(Y,"")}));{const o=e=>{var a=r.Imx(),t=r.esp(a),o=e=>{var a=r.Qq7();a.nodeValue=__tr(["You already have a pending flag"], undefined, "en", []),r.BCw(e,a)},l=e=>{var a=r.Qq7();a.nodeValue=__tr(["Why are you flagging this comment?"], undefined, "en", []),r.BCw(e,a)};r.if(t,(e=>{r.JtY(j)?e(o):e(l,!1)})),r.BCw(e,a)},c=e=>{var o=v(),c=r.jfp(o),d=e=>{var a=p();let o;var l=r.jfp(a);r.R0j(l),l.value=l.__value="45";var s=r.hg4(l,2),c=r.jfp(s);c.nodeValue=`${__tr(["Probable spam."], undefined, "en", [])??""} `;var d=r.hg4(c),i=r.jfp(d);r.qyt(i,(()=>__tr(["This comment promotes a product, service or website while <a href=\"$url$\">failing to disclose the author's affiliation</a>."], {url: "/help/promotion"}, "en", []))),r.cLc(d),r.cLc(s);var h=r.hg4(s,2);n(h,(()=>"45")),r.cLc(a),r.vNg((e=>{o=r.ysU(a,1,"s-check-control",null,o,e),l.disabled=r.JtY(j)}),[()=>({"is-disabled":r.JtY(j)})]),r.CJk(t,[],l,(()=>r.JtY(x)),(e=>r.hZp(x,e))),r.BCw(e,a)};r.if(c,(e=>{a.showSpamFlag&&e(d)}));var i=r.hg4(c,2),w=e=>{var a=h();let o;var l=r.jfp(a);r.R0j(l),l.value=l.__value="20";var s=r.hg4(l,2),c=r.jfp(s);c.nodeValue=`${__tr(["Unfriendly or contains harassment/bigotry/abuse."], undefined, "en", [])??""} `;var d=r.hg4(c),i=r.jfp(d);r.qyt(i,(()=>__tr(["This comment is unkind, insulting or attacks another person or group. Learn more in our  <a href=\"$url$\">Code of Conduct</a>."], {url: "/conduct/abusive-behavior"}, "en", []))),r.cLc(d),r.cLc(s);var p=r.hg4(s,2);n(p,(()=>"20")),r.cLc(a),r.vNg((e=>{o=r.ysU(a,1,"s-check-control",null,o,e),l.disabled=r.JtY(j)}),[()=>({"is-disabled":r.JtY(j)})]),r.CJk(t,[],l,(()=>r.JtY(x)),(e=>r.hZp(x,e))),r.BCw(e,a)},_=e=>{var o=m(),l=r.esp(o);let s;var c=r.jfp(l);r.R0j(c),c.value=c.__value="20";var d=r.hg4(c,2),i=r.jfp(d),p=e=>{var a=u(),t=r.esp(a);t.nodeValue=`${__tr(["It contains harassment, bigotry or abuse."], undefined, "en", [])??""} `;var o=r.hg4(t),l=r.jfp(o);r.qyt(l,(()=>__tr(["This comment attacks a person or group. Learn more in our <a href=\"$url$\">Code of Conduct</a>."], {url: "/conduct/abusive-behavior"}, "en", []))),r.cLc(o),r.BCw(e,a)},h=e=>{var a=f(),t=r.esp(a);t.nodeValue=`${__tr(["It's rude or abusive"], undefined, "en", [])??""} `;var o=r.hg4(t),l=r.jfp(o);r.qyt(l,(()=>__tr(["This comment violates <a href=\"$url$\">Our &quot;Be Nice&quot; policy</a>."], {url: "/help/be-nice"}, "en", []))),r.cLc(o),r.BCw(e,a)};r.if(i,(e=>{a.enableCodeOfConduct?e(p):e(h,!1)})),r.cLc(d);var v=r.hg4(d,2);n(v,(()=>"20")),r.cLc(l);var w=r.hg4(l,2),_=e=>{var a=g();let o;var l=r.jfp(a);r.R0j(l),l.value=l.__value="40";var s=r.hg4(l,2),c=r.jfp(s);c.nodeValue=`${__tr(["It's unfriendly or unkind."], undefined, "en", [])??""} `;var d=r.hg4(c),i=r.jfp(d);r.qyt(i,(()=>__tr(["This comment is rude or condescending. Learn more in our <a href=\"$url$\">Code of Conduct</a>."], {url: "/conduct/abusive-behavior"}, "en", []))),r.cLc(d),r.cLc(s);var p=r.hg4(s,2);n(p,(()=>"40")),r.cLc(a),r.vNg((e=>{o=r.ysU(a,1,"s-check-control",null,o,e),l.disabled=r.JtY(j)}),[()=>({"is-disabled":r.JtY(j)})]),r.CJk(t,[],l,(()=>r.JtY(x)),(e=>r.hZp(x,e))),r.BCw(e,a)};r.if(w,(e=>{a.enableCodeOfConduct&&e(_)})),r.vNg((e=>{s=r.ysU(l,1,"s-check-control",null,s,e),c.disabled=r.JtY(j)}),[()=>({"is-disabled":r.JtY(j)})]),r.CJk(t,[],c,(()=>r.JtY(x)),(e=>r.hZp(x,e))),r.BCw(e,o)};r.if(i,(e=>{a.mergeUnfriendlyAndRudeFlags?e(w):e(_,!1)}));var y=r.hg4(i,2);let b;var C=r.jfp(y);r.R0j(C),C.value=C.__value="39";var k=r.hg4(C,2),L=r.jfp(k),$=r.jfp(L);$.nodeValue=`${__tr(["Not needed."], undefined, "en", [])??""} `,r.hg4($).textContent=__tr(["This comment is not relevant to the post."], undefined, "en", []),r.cLc(L);var T=r.hg4(L,2);let O;var S=r.jfp(T);(0,l.Z_)(S,{id:"no-longer-needed-text-input",placeholder:__tr(["e.g., “This comment has nothing to do with the post.” (optional)"], undefined, "en", []),get value(){return r.JtY(J)},set value(e){r.hZp(J,e,!0)}}),s(r.hg4(S,2),{get currentLength(){return r.JtY(J).length},minCount:6,maxCount:500}),r.cLc(T);var E=r.hg4(T,2);n(E,(()=>"39")),r.cLc(k),r.cLc(y);var U=r.hg4(y,2);let Z;var B=r.jfp(U);r.R0j(B),B.value=B.__value="19";var R=r.hg4(B,2),I=r.jfp(R),M=r.jfp(I);M.nodeValue=`${__tr(["Something else."], undefined, "en", [])??""} `,r.hg4(M).textContent=__tr(["A problem not listed above. Try to be as specific as possible."], undefined, "en", []),r.cLc(I);var N=r.hg4(I,2);let F;var V=r.jfp(N);(0,l.Z_)(V,{id:"other-text-input",placeholder:__tr(["e.g., “This comment says my question is spam, even though it’s not.”"], undefined, "en", []),get value(){return r.JtY(Y)},set value(e){r.hZp(Y,e,!0)}}),s(r.hg4(V,2),{get currentLength(){return r.JtY(Y).length},minCount:6,maxCount:500}),r.cLc(N);var q=r.hg4(N,2);n(q,(()=>"19")),r.cLc(R),r.cLc(U),r.cLc(o),r.vNg(((e,a,t,o)=>{b=r.ysU(y,1,"s-check-control",null,b,e),C.disabled=r.JtY(j),O=r.ysU(T,1,"d-flex fd-column g8",null,O,a),Z=r.ysU(U,1,"s-check-control",null,Z,t),B.disabled=r.JtY(j),F=r.ysU(N,1,"d-flex fd-column g8",null,F,o)}),[()=>({"is-disabled":r.JtY(j)}),()=>({"d-none":"39"!==r.JtY(x)||r.JtY(j)}),()=>({"is-disabled":r.JtY(j)}),()=>({"d-none":"19"!==r.JtY(x)||r.JtY(j)})]),r.CJk(t,[],C,(()=>r.JtY(x)),(e=>r.hZp(x,e))),r.CJk(t,[],B,(()=>r.JtY(x)),(e=>r.hZp(x,e))),r.BCw(e,o)},d=e=>{var a=_(),t=r.jfp(a),o=r.jfp(t),n=e=>{(0,l.$n)(e,{class:"flex--item",weight:"filled",onclick:S,children:(e,a)=>{r.K2T();var t=r.Qq7();t.nodeValue=__tr(["Retract flag"], undefined, "en", []),r.BCw(e,t)},$$slots:{default:!0}})},s=e=>{(0,l.$n)(e,{class:"flex--item",weight:"filled",onclick:O,"data-testid":"confirm-button",children:(e,a)=>{r.K2T();var t=r.Qq7();t.nodeValue=__tr(["Flag comment"], undefined, "en", []),r.BCw(e,t)},$$slots:{default:!0}})};r.if(o,(e=>{r.JtY(j)?e(n):e(s,!1)}));var c=r.hg4(o,2);(0,l.$n)(c,{class:"flex--item",onclick:()=>{r.hZp(y,!1),T()},children:(e,a)=>{r.K2T();var t=r.Qq7();t.nodeValue=__tr(["Cancel"], undefined, "en", []),r.BCw(e,t)},$$slots:{default:!0}}),r.cLc(t);var d=r.hg4(t,2),i=e=>{var a=w(),t=r.jfp(a);r.cLc(a),r.vNg((()=>r.jax(t,`You have ${r.JtY(k)??""} flags left today`))),r.BCw(e,a)};r.if(d,(e=>{r.JtY(j)||r.JtY(L)||e(i)})),r.cLc(a),r.BCw(e,a)};(0,l.aF)(e,r.DuQ({id:"follow-ups-flag-modal",class:"ps-relative ws5"},{},{get visible(){return r.JtY(y)},set visible(e){r.hZp(y,e,!0)},$$events:{close:T},header:o,body:c,footer:d,$$slots:{header:!0,body:!0,footer:!0}}))}r.uYY()}),{target:b,props:{showSpamFlag:y.ShowSpamFlag,mergeUnfriendlyAndRudeFlags:y.MergeUnfriendlyAndRudeFlags,fkey:y.FKey,enableCodeOfConduct:y.EnableCodeOfConduct}})},13886:(e,a,t)=>{t.p=document.getElementById("webpack-public-path").innerText+"Js/"},54152:(e,a,t)=>{t.d(a,{nFV:()=>o});const o='<svg aria-hidden="true" class="svg-icon iconClear" width="18" height="18"  viewBox="0 0 18 18"><path  d="M15 4.41 13.59 3 9 7.59 4.41 3 3 4.41 7.59 9 3 13.59 4.41 15 9 10.41 13.59 15 15 13.59 10.41 9z"/></svg>'},34164:(e,a,t)=>{function o(e){var a,t,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var l=e.length;for(a=0;a<l;a++)e[a]&&(t=o(e[a]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function r(){for(var e,a,t=0,r="",l=arguments.length;t<l;t++)(e=arguments[t])&&(a=o(e))&&(r&&(r+=" "),r+=a);return r}t.d(a,{$:()=>r})},74488:(e,a,t)=>{t.d(a,{h5:()=>o,IJ:()=>l});const o=!0,r=globalThis.process?.env?.NODE_ENV,l=r&&!r.toLowerCase().startsWith("prod")},2322:(e,a,t)=>{t(85630),t(22024)}},t={};function o(e){var r=t[e];if(void 0!==r)return r.exports;var l=t[e]={exports:{}};return a[e](l,l.exports,o),l.exports}o.m=a,e=[],o.O=(a,t,r,l)=>{if(!t){var n=1/0;for(i=0;i<e.length;i++){for(var[t,r,l]=e[i],s=!0,c=0;c<t.length;c++)(!1&l||n>=l)&&Object.keys(o.O).every((e=>o.O[e](t[c])))?t.splice(c--,1):(s=!1,l<n&&(n=l));if(s){e.splice(i--,1);var d=r();void 0!==d&&(a=d)}}return a}l=l||0;for(var i=e.length;i>0&&e[i-1][2]>l;i--)e[i]=e[i-1];e[i]=[t,r,l]},o.d=(e,a)=>{for(var t in a)o.o(a,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})},o.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),o.j=987,o.p="",(()=>{var e={987:0};o.O.j=a=>0===e[a];var a=(a,t)=>{var r,l,[n,s,c]=t,d=0;if(n.some((a=>0!==e[a]))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(c)var i=c(o)}for(a&&a(t);d<n.length;d++)l=n[d],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(i)},t=self.webpackChunkstackoverflow=self.webpackChunkstackoverflow||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))})(),o.O(void 0,[5622,8112],(()=>o(13886)));var r=o.O(void 0,[5622,8112],(()=>o(57689)));r=o.O(r)})();